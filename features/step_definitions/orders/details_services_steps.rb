
#First-Class Mail
Then /^Details: Select Service FCM Large Envelope$/ do
  step "Details: Set Service to FCM Large Envelope"
end

Then /^Details: Expect Service is FCM Large Envelope$/ do
  step "Details: Expect Service to be FCM Large Envelope"
end

Then /^Details: Select Service FCM Package$/ do
  step "Details: Set Service to FCM Package"
end

Then /^Details: Expect Service is FCM Package$/ do
  step "Details: Expect Service to be FCM Package"
end

# Priority Mail
Then /^Details: Select Service PM Large Envelope$/ do
  step "Details: Set Service to PM Large Envelope"
end

Then /^Details: Expect Service is PM Large Envelope$/ do
  step "Details: Expect Service to be PM Large"
end

Then /^Details: Select Service PM Package$/ do
  step "Details: Set Service to PM Package"
end

Then /^Details: Expect Service is PM Package$/ do
  step "Details: Expect Service to be PM Package"
end

Then /^Details: Select Service PM Large Package$/ do
  step "Details: Set Service to PM Large Package"
end

Then /^Details: Expect Service is PM Large Package$/ do
  step "Details: Expect Service to be PM Large Package"
end

Then /^Details: Select Service PM Flat Rate Envelope$/ do
  step "Details: Set Service to PM Flat Rate Envelope"
end

Then /^Details: Expect Service is PM Flat Rate Envelope$/ do
  step "Details: Expect Service to be PM Flat Rate Envelope"
end

Then /^Details: Select Service PM Padded Flat Rate Envelope$/ do
  step "Details: Set Service to PM Padded Flat Rate Envelope"
end

Then /^Details: Expect Service is PM Padded Flat Rate Envelope$/ do
  step "Details: Expect Service to be PM Padded Flat Rate Envelope"
end

Then /^Details: Select Service PM Legal Flat Rate Envelope$/ do
  step "Details: Set Service to PM Legal Flat Rate Envelope"
end

Then /^Details: Expect Service is PM Legal Flat Rate Envelope$/ do
  step "Details: Expect Service to be PM Legal Flat Rate Envelope"
end

Then /^Details: Select Service PM Small Flat Rate Box$/ do
  step "Details: Set Service to PM Small Flat Rate Box"
end

Then /^Details: Expect Service is PM Small Flat Rate Box$/ do
  step "Details: Expect Service to be PM Small Flat Rate Box"
end

Then /^Details: Select Service PM Medium Flat Rate Box$/ do
  step "Details: Set Service to PM Medium Flat Rate Box"
end

Then /^Details: Expect Service is PM Medium Flat Rate Box$/ do
  step "Details: Expect Service to be PM Medium Flat Rate Box"
end

Then /^Details: Select Service PM Large Flat Rate Box$/ do
  step "Details: Set Service to PM Large Flat Rate Box"
end

Then /^Details: Expect Service is PM Large Flat Rate Box$/ do
  step "Details: Expect Service to be PM Large Flat Rate Box"
end

Then /^Details: Select Service PM Regional Rate Box A$/ do
  step "Details: Set Service to PM Regional Rate Box A"
end

Then /^Details: Expect Service is PM Regional Rate Box A$/ do
  step "Details: Expect Service to be PM Regional Rate Box A"
end

Then /^Details: Select Service PM Regional Rate Box B$/ do
  step "Details: Set Service to PM Regional Rate Box B"
end

Then /^Details: Expect Service is PM Regional Rate Box B$/ do
  step "Details: Expect Service to be PM Regional Rate Box B"
end

Then /^Details: Select Service PME Package$/ do
  step "Details: Set Service to PME Package"
end

Then /^Details: Expect Service is PME Package$/ do
  step "Details: Expect Service to be PME Package"
end

Then /^Details: Select Service PME Flat Rate Envelope$/ do
  step "Details: Set Service to PME Flat Rate Envelope"
end

Then /^Details: Expect Service is PME Flat Rate Envelope$/ do
  step "Details: Expect Service to be PME Flat Rate Envelope"
end

Then /^Details: Select Service PME Padded Flat Rate Envelope$/ do
  step "Details: Set Service to PME Padded Flat Rate Envelope"
end

Then /^Details: Expect Service is PME Padded Flat Rate Envelope$/ do
  step "Details: Expect Service to be PME Padded Flat Rate Envelope"
end

Then /^Details: Select Service PME Legal Flat Rate Envelope$/ do
  step "Details: Set Service to PME Legal Flat Rate Envelope"
end

Then /^Details: Expect Service is PME Legal Flat Rate Envelope$/ do
  step "Details: Expect Service to be PME Legal Flat Rate Envelope"
end

Then /^Details: Select Service MM Package$/ do
  step "Details: Set Service to MM Package"
end

Then /^Details: Expect Service is MM Package$/ do
  step "Details: Expect Service to be MM Package"
end

Then /^Details: Select Service PSG Package$/ do
  step "Details: Set Service to PSG Package"
end

Then /^Details: Expect Service is PSG Package$/ do
  step "Details: Expect Service to be PSG Package"
end

Then /^Details: Select Service PSG Large Package$/ do
  step "Details: Set Service to PSG Large Package"
end

Then /^Details: Expect Service is PSG Large Package$/ do
  step "Details: Expect Service to be PSG Large Package"
end

Then /^Details: Select Service PSG Oversized Package$/ do
  step "Details: Set Service to PSG Oversized Package"
end

Then /^Details: Expect Service is PSG Oversized Package$/ do
  step "Details: Expect Service to be PSG Oversized Package"
end

# FCMI

Then /^Details: Select Service FCMI Large Envelope$/ do
  step "Details: Set Service to FCMI Large Envelope"
end

Then /^Details: Expect Service is FCMI Large Envelope$/ do
  step "Details: Expect Service to be FCMI Large Envelope"
end

Then /^Details: Select Service FCMI Package$/ do
  step "Details: Set Service to FCMI Package"
end

Then /^Details: Expect Service is FCMI Package$/ do
  step "Details: Expect Service to be FCMI Package"
end

#Priority Mail International

Then /^Details: Select Service PMI Package$/ do
  step "Details: Set Service to PMI Package"
end

Then /^Details: Expect Service is PMI Package$/ do
  step "Details: Expect Service to be PMI Package"
end

Then /^Details: Select Service PMI Flat Rate Envelope$/ do
  step "Details: Set Service to PMI Flat Rate Envelope"
end

Then /^Details: Expect Service is PMI Flat Rate Envelope$/ do
  step "Details: Expect Service to be PMI Flat Rate Envelope"
end

Then /^Details: Select Service PMI Padded Flat Rate Envelope$/ do
  step "Details: Set Service to PMI Padded Flat Rate Envelope"
end

Then /^Details: Expect Service is PMI Padded Flat Rate Envelope$/ do
  step "Details: Expect Service to be PMI Padded Flat Rate Envelope"
end

Then /^Details: Select Service PMI Legal Flat Rate Envelope$/ do
  step "Details: Set Service to PMI Legal Flat Rate Envelope"
end

Then /^Details: Expect Service is PMI Legal Flat Rate Envelope$/ do
  step "Details: Expect Service to be PMI Legal Flat Rate Envelope"
end

Then /^Details: Select Service PMI Small Flat Rate Box$/ do
  step "Details: Set Service to PMI Small Flat Rate Box"
end

Then /^Details: Expect Service is PMI Small Flat Rate Box$/ do
  step "Details: Expect Service to be PMI Small Flat Rate Box"
end

Then /^Details: Select Service PMI Medium Flat Rate Box$/ do
  step "Details: Set Service to PMI Medium Flat Rate Box"
end

Then /^Details: Expect Service is PMI Medium Flat Rate Box$/ do
  step "Details: Expect Service to be PMI Medium Flat Rate Box"
end

Then /^Details: Select Service PMI Large Flat Rate Box$/ do
  step "Details: Set Service to PMI Large Flat Rate Box"
end

Then /^Details: Expect Service is PMI Large Flat Rate Box$/ do
  step "Details: Expect Service to be PMI Large Flat Rate Box"
end

Then /^Details: Select Service PMI Regional Rate Box A$/ do
  step "Details: Set Service to PMI Regional Rate Box A"
end

Then /^Details: Expect Service is PMI Regional Rate Box A$/ do
  step "Details: Expect Service to be PMI Regional Rate Box A"
end

Then /^Details: Select Service PMI Regional Rate Box B$/ do
  step "Details: Set Service to PMI Regional Rate Box B"
end

Then /^Details: Expect Service is PMI Regional Rate Box B$/ do
  step "Details: Expect Service to be PMI Regional Rate Box B"
end

Then /^Details: Select Service PMEI Package$/ do
  step "Details: Set Service to PMEI Package"
end

Then /^Details: Expect Service is PMEI Package$/ do
  step "Details: Expect Service to be PMEI Package"
end

Then /^Details: Select Service PMEI Flat Rate Envelope$/ do
  step "Details: Set Service to PMEI Flat Rate Envelope"
end

Then /^Details: Expect Service is PMEI Flat Rate Envelope$/ do
  step "Details: Expect Service to be PMEI Flat Rate Envelope"
end

Then /^Details: Select Service PMEI Padded Flat Rate Envelope$/ do
  step "Details: Set Service to PMEI Padded Flat Rate Envelope"
end

Then /^Details: Expect Service is PMEI Padded Flat Rate Envelope$/ do
  step "Details: Expect Service to be PMEI Padded Flat Rate Envelope"
end

Then /^Details: Select Service PMEI Legal Flat Rate Envelope$/ do
  step "Details: Set Service to PMEI Legal Flat Rate Envelope"
end

Then /^Details: Expect Service is PMEI Legal Flat Rate Envelope$/ do
  step "Details: Expect Service to be PMEI Legal Flat Rate Envelope"
end

Then /^Details: Set Service to (.*)$/ do |service|
  logger.step "Details: Set Service to #{service}"
  stamps.orders.order_details.service.select service
  15.times do
    step "Details: Blur out"
    break if stamps.orders.order_details.service.cost.to_f > 0
    step "Details: Blur out"
  end
  test_data[:service] = stamps.orders.order_details.service.text_box.text
  step "Save Shipping Costs Data"
  logger.message "*** Service Cost: #{test_data[:service_cost]} ***"
end

Then /^Details: Expect Service to be (?:([\w ]+)|an empty string)$/ do |expectation|
  logger.step "Details: Expect Service is #{expectation}"
  if expectation.nil?
    selection_substr = ""
  else
    sel_arr = expectation.split(/\s+/)
    selection_substr = (sel_arr.size>=2?"#{sel_arr[0]} #{sel_arr[1]}":"#{sel_arr[0]}")
  end
  10.times do
    break if stamps.orders.order_details.service.text_box.text.include? selection_substr
  end
  stamps.orders.order_details.service.text_box.text.should include selection_substr
end
