
#First-Class Mail

Then /^Details: Select Service First-Class Mail Large Envelope\/Flat$/ do
  step "Details: Set Service to First-Class Mail Large Envelope"
end

Then /^Details: Expect Service is First-Class Mail Large Envelope\/Flat$/ do
  step "Details: Expect Service is \"First-Class Mail Large Envelope\""
end

Then /^Details: Select Service First-Class Mail Package\/Thick Envelope$/ do
  step "Details: Set Service to First-Class Mail Package"
end

Then /^Details: Expect Service is First-Class Mail Package\/Thick Envelope$/ do
  step "Details: Expect Service is \"First-Class Mail Package\""
end

# Priority Mail

Then /^Details: Select Service PM Large\/Thick Envelope$/ do
  step "Details: Set Service to Priority Mail Large"
end

Then /^Details: Expect Service is PM Large\/Thick Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Large\""
end

Then /^Details: Select Service PM Package$/ do
  step "Details: Set Service to Priority Mail Package"
end

Then /^Details: Expect Service is PM Package$/ do
  step "Details: Expect Service is \"Priority Mail Package\""
end

Then /^Details: Select Service PM Large Package$/ do
  step "Details: Set Service to Priority Mail Large Package"
end

Then /^Details: Expect Service is PM Large Package$/ do
  step "Details: Expect Service is \"Priority Mail Large Package\""
end

Then /^Details: Select Service PM Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail Flat Rate Envelope"
end

Then /^Details: Expect Service is PM Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Flat Rate Envelope\""
end

Then /^Details: Select Service PM Padded Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail Padded Flat Rate Envelope"
end

Then /^Details: Expect Service is PM Padded Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Padded Flat Rate Envelope\""
end

Then /^Details: Select Service PM Legal Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail Legal Flat Rate Envelope"
end

Then /^Details: Expect Service is PM Legal Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Legal Flat Rate Envelope\""
end

Then /^Details: Select Service PM Small Flat Rate Box$/ do
  step "Details: Set Service to Priority Mail Small Flat Rate Box"
end

Then /^Details: Expect Service is PM Small Flat Rate Box$/ do
  step "Details: Expect Service is \"Priority Mail Small Flat Rate Box\""
end

Then /^Details: Select Service PM Medium Flat Rate Box$/ do
  step "Details: Set Service to Priority Mail Medium Flat Rate Box"
end

Then /^Details: Expect Service is PM Medium Flat Rate Box$/ do
  step "Details: Expect Service is \"Priority Mail Medium Flat Rate Box\""
end

Then /^Details: Select Service PM Large Flat Rate Box$/ do
  step "Details: Set Service to Priority Mail Large Flat Rate Box"
end

Then /^Details: Expect Service is PM Large Flat Rate Box$/ do
  step "Details: Expect Service is \"Priority Mail Large Flat Rate Box\""
end

Then /^Details: Select Service PM Regional Rate Box A$/ do
  step "Details: Set Service to Priority Mail Regional Rate Box A"
end

Then /^Details: Expect Service is PM Regional Rate Box A$/ do
  step "Details: Expect Service is \"Priority Mail Regional Rate Box A\""
end

Then /^Details: Select Service PM Regional Rate Box B$/ do
  step "Details: Set Service to Priority Mail Regional Rate Box B"
end

Then /^Details: Expect Service is PM Regional Rate Box B$/ do
  step "Details: Expect Service is \"Priority Mail Regional Rate Box B\""
end

Then /^Details: Select Service PME Package$/ do
  step "Details: Set Service to Priority Mail Express Package"
end

Then /^Details: Expect Service is PME Package$/ do
  step "Details: Expect Service is \"Priority Mail Express Package\""
end

Then /^Details: Select Service PME Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail Express Flat Rate Envelope"
end

Then /^Details: Expect Service is PME Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Express Flat Rate Envelope\""
end

Then /^Details: Select Service PME Padded Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail Express Padded Flat Rate Envelope"
end

Then /^Details: Expect Service is PME Padded Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Express Padded Flat Rate Envelope\""
end

Then /^Details: Select Service PME Legal Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail Express Legal Flat Rate Envelope"
end

Then /^Details: Expect Service is PME Legal Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Express Legal Flat Rate Envelope\""
end

Then /^Details: Select Service Media Mail Package\/Flat\/Thick Envelope$/ do
  step "Details: Set Service to Media Mail Package"
end

Then /^Details: Expect Service is Media Mail Package\/Flat\/Thick Envelope$/ do
  step "Details: Expect Service is \"Media Mail Package\""
end

Then /^Details: Select Service Parcel Select Ground Package\/Flat\/Thick Envelope$/ do
  step "Details: Set Service to Parcel Select Ground Package"
end

Then /^Details: Expect Service is Parcel Select Ground Package\/Flat\/Thick Envelope$/ do
  step "Details: Expect Service is \"Parcel Select Ground Package\""
end

Then /^Details: Select Service Parcel Select Ground Large Package$/ do
  step "Details: Set Service to Parcel Select Ground Large Package"
end

Then /^Details: Expect Service is Parcel Select Ground Large Package$/ do
  step "Details: Expect Service is \"Parcel Select Ground Large Package\""
end

Then /^Details: Select Service Parcel Select Ground Oversized Package$/ do
  step "Details: Set Service to Parcel Select Ground Oversized Package"
end

Then /^Details: Expect Service is Parcel Select Ground Oversized Package$/ do
  step "Details: Expect Service is \"Parcel Select Ground Oversized Package\""
end

# First-Class Mail International

Then /^Details: Select Service First-Class Mail International Large Envelope\/Flat$/ do
  step "Details: Set Service to First-Class Mail International Large Envelope"
end

Then /^Details: Expect Service is First-Class Mail International Large Envelope\/Flat$/ do
  step "Details: Expect Service is \"First-Class Mail International Large Envelope\""
end

Then /^Details: Select Service First-Class Mail International Package\/Thick Envelope$/ do
  step "Details: Set Service to First-Class Mail International Package"
end

Then /^Details: Expect Service is First-Class Mail International Package\/Thick Envelope$/ do
  step "Details: Expect Service is \"First-Class Mail International Package\""
end

#Priority Mail International

Then /^Details: Select Service PM International Package$/ do
  step "Details: Set Service to Priority Mail International Package"
end

Then /^Details: Expect Service is PM International Package$/ do
  step "Details: Expect Service is \"Priority Mail International Package\""
end

Then /^Details: Select Service PM International Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail International Flat Rate Envelope"
end

Then /^Details: Expect Service is PM International Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail International Flat Rate Envelope\""
end

Then /^Details: Select Service PM International Padded Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail International Padded Flat Rate Envelope"
end

Then /^Details: Expect Service is PM International Padded Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail International Padded Flat Rate Envelope\""
end

Then /^Details: Select Service PM International Legal Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail International Legal Flat Rate Envelope"
end

Then /^Details: Expect Service is PM International Legal Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail International Legal Flat Rate Envelope\""
end

Then /^Details: Select Service PM International Small Flat Rate Box$/ do
  step "Details: Set Service to Priority Mail International Small Flat Rate Box"
end

Then /^Details: Expect Service is PM International Small Flat Rate Box$/ do
  step "Details: Expect Service is \"Priority Mail International Small Flat Rate Box\""
end

Then /^Details: Select Service PM International Medium Flat Rate Box$/ do
  step "Details: Set Service to Priority Mail International Medium Flat Rate Box"
end

Then /^Details: Expect Service is PM International Medium Flat Rate Box$/ do
  step "Details: Expect Service is \"Priority Mail International Medium Flat Rate Box\""
end

Then /^Details: Select Service PM International Large Flat Rate Box$/ do
  step "Details: Set Service to Priority Mail International Large Flat Rate Box"
end

Then /^Details: Expect Service is PM International Large Flat Rate Box$/ do
  step "Details: Expect Service is \"Priority Mail International Large Flat Rate Box\""
end

Then /^Details: Select Service PM International Regional Rate Box A$/ do
  step "Details: Set Service to Priority Mail International Regional Rate Box A"
end

Then /^Details: Expect Service is PM International Regional Rate Box A$/ do
  step "Details: Expect Service is \"Priority Mail International Regional Rate Box A\""
end

Then /^Details: Select Service PM International Regional Rate Box B$/ do
  step "Details: Set Service to Priority Mail International Regional Rate Box B"
end

Then /^Details: Expect Service is PM International Regional Rate Box B$/ do
  step "Details: Expect Service is \"Priority Mail International Regional Rate Box B\""
end

Then /^Details: Select Service PME International Package\/Flat\/Thick Envelope$/ do
  step "Details: Set Service to Priority Mail Express International Package"
end

Then /^Details: Expect Service is PME International Package\/Flat\/Thick Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Express International Package\""
end

Then /^Details: Select Service PME International Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail Express International Flat Rate Envelope"
end

Then /^Details: Expect Service is PME International Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Express International Flat Rate Envelope\""
end

Then /^Details: Select Service PME International Padded Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail Express International Padded Flat Rate Envelope"
end

Then /^Details: Expect Service is PME International Padded Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Express International Padded Flat Rate Envelope\""
end

Then /^Details: Select Service PME International Legal Flat Rate Envelope$/ do
  step "Details: Set Service to Priority Mail Express International Legal Flat Rate Envelope"
end

Then /^Details: Expect Service is PME International Legal Flat Rate Envelope$/ do
  step "Details: Expect Service is \"Priority Mail Express International Legal Flat Rate Envelope\""
end

Then /^Details: Set Service to (.*)$/ do |service|
  logger.step "Details: Set Service to #{service}"
  stamps.orders.order_details.service.select service
  5.times do
    step "Details: Blur out"
    test_data[:service_cost] = stamps.orders.order_details.service.cost
    #logger.message "*** Service Cost: #{test_data[:service_cost]} ***"
    if stamps.orders.order_details.service.cost.to_f > 0
      test_data[:service_cost] = stamps.orders.order_details.service.cost
      logger.message "*** Service Cost: #{test_data[:service_cost]} ***"
      break
    end
    step "Details: Blur out"
    sleep 1
  end
  3.times do
    step "Details: Blur out"
    test_data[:service_cost] = stamps.orders.order_details.service.cost
    #logger.message "*** Service Cost: #{test_data[:service_cost]} ***"
    step "Details: Blur out"
  end
  logger.message "*** Service Cost: #{test_data[:service_cost]} ***"
  step "Details: Save Total Ship Cost"
  test_data[:service_cost] = stamps.orders.order_details.service.cost
  logger.step "Service Cost: $#{test_data[:service_cost]}"
  test_data[:service] = stamps.orders.order_details.service.text_box.text
end

Then /^Details: Expect Service is \"(.*)\"$/ do |expectation|
  logger.step "Details: Expect Service is #{expectation}"
  expectation = stamps.orders.order_details.service.abbrev_service_name(expectation)
  10.times do
    break if stamps.orders.order_details.service.text_box.text.include? expectation
  end
  stamps.orders.order_details.service.text_box.text.should include expectation
end
