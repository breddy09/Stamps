
Then /^(?:S|s)et WebReg Membership page State to Armed Forces Americas$/ do
  #logger.step "set WebReg Membership page State to AA Armed Forces Americas"
  webreg.profile.membership.state.armed_forces_americas
end

Then /^(?:S|s)et WebReg Membership page State to Armed Forces$/ do
  #logger.step "set WebReg Membership page State to AE Armed Forces"
  webreg.profile.membership.state.armed_forces
end

Then /^(?:S|s)et WebReg Membership page State to Alaska$/ do
  #logger.step "set WebReg Membership page State to Alaska"
  webreg.profile.membership.state.alaska
end

Then /^(?:S|s)et WebReg Membership page State to Alabama$/ do
  #logger.step "set WebReg Membership page State to AL Alabama"
  webreg.profile.membership.state.alabama
end

Then /^(?:S|s)et WebReg Membership page State to Armed Forces Pacific$/ do
  #logger.step "set WebReg Membership page State to Armed Forces Pacific"
  webreg.profile.membership.state.armed_forces_pacific
end

Then /^(?:S|s)et WebReg Membership page State to Arkansas$/ do
  #logger.step "set WebReg Membership page State to Arkansas"
  webreg.profile.membership.state.arkansa
end

Then /^(?:S|s)et WebReg Membership page State to American Samoa$/ do
  #logger.step "set WebReg Membership page State to American Samoa"
  webreg.profile.membership.state.american_samoa
end

Then /^(?:S|s)et WebReg Membership page State to Arizona$/ do
  #logger.step "set WebReg Membership page State to Arizona"
  webreg.profile.membership.state.arizona
end

Then /^(?:S|s)et WebReg Membership page State to California$/ do
  #logger.step "set WebReg Membership page State to California"
  webreg.profile.membership.state.california
end

Then /^(?:S|s)et WebReg Membership page State to Colorado$/ do
  #logger.step "set WebReg Membership page State to Colorado"
  webreg.profile.membership.state.colorado
end

Then /^(?:S|s)et WebReg Membership page State to Connecticut$/ do
  #logger.step "set WebReg Membership page State to Connecticut"
  webreg.profile.membership.state.connecticut
end

Then /^(?:S|s)et WebReg Membership page State to Canal Zone$/ do
  #logger.step "set WebReg Membership page State to Canal Zone"
  webreg.profile.membership.state.canal_zone
end

Then /^(?:S|s)et WebReg Membership page State to District of Columbia$/ do
  #logger.step "set WebReg Membership page State to District of Columbia"
  webreg.profile.membership.state.district_of_columbia
end

Then /^(?:S|s)et WebReg Membership page State to Delaware$/ do
  #logger.step "set WebReg Membership page State to Delaware"
  webreg.profile.membership.state.delaware
end

Then /^(?:S|s)et WebReg Membership page State to Florida$/ do
  #logger.step "set WebReg Membership page State to Florida"
  webreg.profile.membership.state.florida
end

Then /^(?:S|s)et WebReg Membership page State to Micronesia$/ do
  #logger.step "set WebReg Membership page State to Micronesia"
  webreg.profile.membership.state.micronesia
end

Then /^(?:S|s)et WebReg Membership page State to Georgia$/ do
  #logger.step "set WebReg Membership page State to Georgia"
  webreg.profile.membership.state.georgia
end

Then /^(?:S|s)et WebReg Membership page State to Guam$/ do
  #logger.step "set WebReg Membership page State to Guam"
  webreg.profile.membership.state.guam
end

Then /^(?:S|s)et WebReg Membership page State to Hawaii$/ do
  #logger.step "set WebReg Membership page State to Hawaii"
  webreg.profile.membership.state.hawaii
end

Then /^(?:S|s)et WebReg Membership page State to Iowa$/ do
  #logger.step "set WebReg Membership page State to Iowa"
  webreg.profile.membership.state.iowa
end

Then /^(?:S|s)et WebReg Membership page State to Idaho$/ do
  #logger.step "set WebReg Membership page State to Idaho"
  webreg.profile.membership.state.idaho
end

Then /^(?:S|s)et WebReg Membership page State to Illinois$/ do
  #logger.step "set WebReg Membership page State to Illinois"
  webreg.profile.membership.state.illinois
end

Then /^(?:S|s)et WebReg Membership page State to Indiana$/ do
  #logger.step "set WebReg Membership page State to Indiana"
  webreg.profile.membership.state.indiana
end

Then /^(?:S|s)et WebReg Membership page State to Kansas$/ do
  #logger.step "set WebReg Membership page State to Kansas"
  webreg.profile.membership.state.kansas
end

Then /^(?:S|s)et WebReg Membership page State to Kentucky$/ do
  #logger.step "set WebReg Membership page State to Kentucky"
  webreg.profile.membership.state.kentucky
end

Then /^(?:S|s)et WebReg Membership page State to Louisiana$/ do
  #logger.step "set WebReg Membership page State to Louisiana"
  webreg.profile.membership.state.louisiana
end

Then /^(?:S|s)et WebReg Membership page State to Massachusetts$/ do
  #logger.step "set WebReg Membership page State to Massachusetts"
  webreg.profile.membership.state.massachusetts
end

Then /^(?:S|s)et WebReg Membership page State to Maryland$/ do
  #logger.step "set WebReg Membership page State to Maryland"
  webreg.profile.membership.state.maryland
end

Then /^(?:S|s)et WebReg Membership page State to Maine$/ do
  #logger.step "set WebReg Membership page State to Maine"
  webreg.profile.membership.state.maine
end

Then /^(?:S|s)et WebReg Membership page State to Marshall Islands$/ do
  #logger.step "set WebReg Membership page State to Marshall Islands"
  webreg.profile.membership.state.marshall_islands
end

Then /^(?:S|s)et WebReg Membership page State to Minnesota$/ do
  #logger.step "set WebReg Membership page State to Minnesota"
  webreg.profile.membership.state.minnesota
end

Then /^(?:S|s)et WebReg Membership page State to Missouri$/ do
  #logger.step "set WebReg Membership page State to Missouri"
  webreg.profile.membership.state.missouri
end

Then /^(?:S|s)et WebReg Membership page State to Mariana Islands$/ do
  #logger.step "set WebReg Membership page State to Mariana Islands"
  webreg.profile.membership.state.mariana_islands
end

Then /^(?:S|s)et WebReg Membership page State to Mississippi$/ do
  #logger.step "set WebReg Membership page State to Mississippi"
  webreg.profile.membership.state.mississippi
end

Then /^(?:S|s)et WebReg Membership page State to Montana$/ do
  #logger.step "set WebReg Membership page State to Montana"
  webreg.profile.membership.state.montana
end

Then /^(?:S|s)et WebReg Membership page State to North Carolina$/ do
  #logger.step "set WebReg Membership page State to North Carolina"
  webreg.profile.membership.state.north_carolina
end

Then /^(?:S|s)et WebReg Membership page State to North Dakota$/ do
  #logger.step "set WebReg Membership page State to North Dakota"
  webreg.profile.membership.state.north_dakota
end

Then /^(?:S|s)et WebReg Membership page State to Nebraska$/ do
  #logger.step "set WebReg Membership page State to Nebraska"
  webreg.profile.membership.state.nebraska
end

Then /^(?:S|s)et WebReg Membership page State to New Hampshire$/ do
  #logger.step "set WebReg Membership page State to New Hampshire"
  webreg.profile.membership.state.new_hampshire
end

Then /^(?:S|s)et WebReg Membership page State to New Jersey$/ do
  #logger.step "set WebReg Membership page State to New Jersey"
  webreg.profile.membership.state.new_jersey
end

Then /^(?:S|s)et WebReg Membership page State to New Mexico$/ do
  #logger.step "set WebReg Membership page State to New Mexico"
  webreg.profile.membership.state.new_mexico
end

Then /^(?:S|s)et WebReg Membership page State to Nevada$/ do
  #logger.step "set WebReg Membership page State to Nevada"
  webreg.profile.membership.state.nevada
end

Then /^(?:S|s)et WebReg Membership page State to New York$/ do
  #logger.step "set WebReg Membership page State to New York"
  webreg.profile.membership.state.new_york
end

Then /^(?:S|s)et WebReg Membership page State to Ohio$/ do
  #logger.step "set WebReg Membership page State to Ohio"
  webreg.profile.membership.state.ohio
end

Then /^(?:S|s)et WebReg Membership page State to Oklahoma$/ do
  #logger.step "set WebReg Membership page State to Oklahoma"
  webreg.profile.membership.state.oklahoma
end

Then /^(?:S|s)et WebReg Membership page State to Oregon$/ do
  #logger.step "set WebReg Membership page State to Oregon"
  webreg.profile.membership.state.oregon
end

Then /^(?:S|s)et WebReg Membership page State to Pennsylvania$/ do
  #logger.step "set WebReg Membership page State to Pennsylvania"
  webreg.profile.membership.state.pennsylvania
end

Then /^(?:S|s)et WebReg Membership page State to Puerto Rico$/ do
  #logger.step "set WebReg Membership page State to Puerto Rico"
  webreg.profile.membership.state.puerto_rico
end

Then /^(?:S|s)et WebReg Membership page State to Palau$/ do
  #logger.step "set WebReg Membership page State to Palau"
  webreg.profile.membership.state.palau
end

Then /^(?:S|s)et WebReg Membership page State to Rhode Island$/ do
  #logger.step "set WebReg Membership page State to Rhode Island"
  webreg.profile.membership.state.rhode_island
end

Then /^(?:S|s)et WebReg Membership page State to South Carolina$/ do
  #logger.step "set WebReg Membership page State to South Carolina"
  webreg.profile.membership.state.south_carolina
end

Then /^(?:S|s)et WebReg Membership page State to South Dakota$/ do
  #logger.step "set WebReg Membership page State to South Dakota"
  webreg.profile.membership.state.south_dakota
end

Then /^(?:S|s)et WebReg Membership page State to Tennessee$/ do
  #logger.step "set WebReg Membership page State to Tennessee"
  webreg.profile.membership.state.tennessee
end

Then /^(?:S|s)et WebReg Membership page State to Texas$/ do
  #logger.step "set WebReg Membership page State to Texas"
  webreg.profile.membership.state.texas
end

Then /^(?:S|s)et WebReg Membership page State to Utah$/ do
  #logger.step "set WebReg Membership page State to Utah"
  webreg.profile.membership.state.utah
end

Then /^(?:S|s)et WebReg Membership page State to Virginia$/ do
  #logger.step "set WebReg Membership page State to Virginia"
  webreg.profile.membership.state.virginia
end

Then /^(?:S|s)et WebReg Membership page State to Virgin Islands$/ do
  #logger.step "set WebReg Membership page State to Virgin Islands"
  webreg.profile.membership.state.virgin_islands
end

Then /^(?:S|s)et WebReg Membership page State to Vermont$/ do
  #logger.step "set WebReg Membership page State to Vermont"
  webreg.profile.membership.state.vermont
end

Then /^(?:S|s)et WebReg Membership page State to Washington$/ do
  #logger.step "set WebReg Membership page State to Washington"
  webreg.profile.membership.state.washington
end

Then /^(?:S|s)et WebReg Membership page State to Wisconsin$/ do
  #logger.step "set WebReg Membership page State to Wisconsin"
  webreg.profile.membership.state.wisconsin
end

Then /^(?:S|s)et WebReg Membership page State to West Virginia$/ do
  #logger.step "set WebReg Membership page State to West Virginia"
  webreg.profile.membership.state.west_virginia
end

Then /^(?:S|s)et WebReg Membership page State to Wyoming$/ do
  #logger.step "set WebReg Membership page State to Wyoming"
  webreg.profile.membership.state.wyoming
end

Then /^(?:S|s)et WebReg Membership page First Name to (.*)$/ do |var|
  #logger.step "set WebReg Membership page First Name to #{var}"
  test_parameter[:first_name] = (var.downcase.include? 'random') ? ParameterHelper.random_string : var
  webreg.profile.membership.first_name.set test_parameter[:first_name]
end

Then /^(?:S|s)et WebReg Membership page Last Name to (.*)$/ do |var|
  #logger.step "set WebReg Membership page Last Name to #{var}"
  test_parameter[:last_name] = (var.downcase.include? 'random') ? ParameterHelper.random_string : var
  webreg.profile.membership.last_name.set test_parameter[:last_name]
end

Then /^(?:S|s)et WebReg Membership page Company to (.*)$/ do |var|
  test_parameter[:company] = (var.downcase.include? 'random') ? ParameterHelper.random_string : var
  webreg.profile.membership.company.set test_parameter[:company]
end

Then /^(?:S|s)et WebReg Membership page Address to (.*)$/ do |var|
  test_parameter[:company] = (var.downcase.include? 'random') ? ParameterHelper.random_string : var
  webreg.profile.membership.address.set test_parameter[:company]
end

Then /^(?:S|s)et WebReg Membership page City to (.*)$/ do |var|
  #logger.step "set WebReg Membership page City to #{var}"
  test_parameter[:membership] = var
  webreg.profile.membership.city.set test_parameter[:membership]
end

Then /^(?:S|s)et WebReg Membership page Zip Code to (.*)$/ do |var|
  test_parameter[:zip] = var
  webreg.profile.membership.zip.set test_parameter[:zip]
end

Then /^(?:S|s)et WebReg Membership page Phone to (.*)$/ do |var|
  #logger.step "set WebReg Membership page Phone to #{var}"
  test_parameter[:phone] = (var.downcase.include? 'random') ? ParameterHelper.random_phone : var
  phone = webreg.profile.membership.phone
  6.times do
    phone.send_keys test_parameter[:phone]
    sleep(0.35)
    ui_phone = phone.text
    sleep(0.35)
    break if ui_phone.include? '-' and (test_parameter[:phone][-4, 4] == ui_phone[-4, 4])
  end
end

Then /^(?:S|s)et WebReg Membership page Extenion to (.*)$/ do |var|
  #logger.step "set WebReg Membership page Extenion to #{var}"
  test_parameter[:ext] = (var.downcase.include? 'random') ? ParameterHelper.random_phone_extension : var
  webreg.profile.membership.ext.set test_parameter[:ext]
end

Then /^(?:S|s)et WebReg Membership page Cardholder name to (.*)$/ do |var|
  #logger.step "set WebReg Membership page Cardholder name to #{var}"
  test_parameter[:card_holder_name] = (var.downcase.include? 'random') ? ParameterHelper.random_name : var
  webreg.profile.membership.card_holder_name.set test_parameter[:card_holder_name]
end

Then /^(?:S|s)et WebReg Membership page Card number to (.*)$/ do |var|
  test_parameter[:card_number] = var
  #logger.step "set WebReg Membership page Card number to #{test_data[:card_number]}"
  webreg.profile.membership.card_number.set test_parameter[:card_number]
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to January/ do
  #logger.step "set WebReg Membership page Expiration Month to January"
  webreg.profile.membership.expiration_month.jan
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to February$/ do
  #logger.step "set WebReg Membership page Expiration Month to February"
  webreg.profile.membership.expiration_month.feb
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to March$/ do
  #logger.step "set WebReg Membership page Expiration Month to March"
  webreg.profile.membership.expiration_month.mar
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to April$/ do
  #logger.step "set WebReg Membership page Expiration Month to April"
  webreg.profile.membership.expiration_month.apr
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to May$/ do
  #logger.step "set WebReg Membership page Expiration Month to May"
  webreg.profile.membership.expiration_month.may
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to June$/ do
  #logger.step "set WebReg Membership page Expiration Month to June"
  webreg.profile.membership.expiration_month.jun
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to July$/ do
  #logger.step "set WebReg Membership page Expiration Month to July"
  webreg.profile.membership.expiration_month.jul
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to August$/ do
  #logger.step "set WebReg Membership page Expiration Month to August"
  webreg.profile.membership.expiration_month.aug
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to September$/ do
  #logger.step "set WebReg Membership page Expiration Month to September"
  webreg.profile.membership.expiration_month.sep
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to October$/ do
  #logger.step "set WebReg Membership page Expiration Month to October"
  webreg.profile.membership.expiration_month.oct
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to November$/ do
  #logger.step "set WebReg Membership page Expiration Month to November"
  webreg.profile.membership.expiration_month.nov
end

Then /^(?:S|s)et WebReg Membership page Expiration Month to December$/ do
  #logger.step "set WebReg Membership page Expiration Month to December"
  webreg.profile.membership.expiration_month.dec
end

Then /^(?:S|s)et WebReg Membership page Expiration Year to (\d+)$/ do |var|
  #logger.step "set WebReg Membership page Expiration Year to #{var}"
  test_parameter[:expiration_year] = var
  webreg.profile.membership.expiration_year.select test_parameter[:expiration_year]
end

Then /^(?:S|s)et WebReg Membership page Billing address same as mailing address to Checked$/ do
  #logger.step "set WebReg Membership page Billing address same as mailing address to Checked"
  webreg.profile.membership.billing_same_as_mailing.check
end

Then /^(?:S|s)et WebReg Membership page Billing address same as mailing address to Unchecked$/ do
  #logger.step "set WebReg Membership page Billing address same as mailing address to Unchecked"
  webreg.profile.membership.billing_same_as_mailing.uncheck
end

Then /^(?:S|s)et WebReg Membership page Terms & Conditions to Checked$/ do
  #logger.step "set WebReg Membership page Terms & Conditions to Checked"
  webreg.profile.membership.terms_and_conditions.check
end

Then /^(?:S|s)et WebReg Membership page Terms & Conditions to Unchecked$/ do
  #logger.step "set WebReg Membership page Terms & Conditions to Unchecked"
  webreg.profile.membership.terms_and_conditions.uncheck
end

Then /^(?:O|o)n WebReg Membership page, click Back Button$/ do
  #logger.step "On WebReg Membership page, click Back Button"
  expect("").to eql "Step Definition not yet implemented! - On WebReg Membership page, click Back Button"
end

Then /^(?:O|o)n WebReg Membership page, click Submit$/ do
  #logger.step "On WebReg Membership page, click Submit"
  begin
    webreg.profile.membership.submit_correct_errors test_parameter
  rescue Exception => e
    logger.error e.message
    logger.error e.backtrace.join("\n")
  end
end

Then /^(?:O|o)n WebReg Membership page, click Submit and correct errors$/ do
  step "On WebReg Membership page, click Submit"
  10.times do
    case @webreg_result
      #when there's a failure, correct field and resubmit.
      when WebReg::MembershipPhone
        logger.error "Membership Phone Textbox has error: #{@webreg_result.help_text}"
        step "set WebReg Membership page Phone to random"
        step "On WebReg Membership page, click Submit"
      when WebReg::MembershipCardNumber
        logger.error "Membership Phone Textbox has error: #{@webreg_result.help_text}"
        step "set WebReg Membership page Card number to #{test_parameter[:card_number]}"
        step "On WebReg Membership page, click Submit"
      when WebReg::ChooseSupplies
        break
      else
        raise "Unknown WebReg Result object. #{@webreg_result.class} is not recognized. Update step \"On WebReg Membership page, click Submit and correct errors\""
    end
  end
end

#Added by Galina

Then(/^(?:O|o)n WebReg Membership page, expect First Name Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, expect First Name Help Block is #{expectation}"
  help_text = webreg.profile.membership.first_name.help_text
  expect(help_text).to eql expectation
  end

Then(/^(?:O|o)n WebReg Membership page, expect Last Name Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, expect Last Name Help Block is #{expectation}"
  help_text = webreg.profile.membership.last_name.help_text
  expect(help_text).to eql expectation
  end

Then(/^(?:O|o)n WebReg Membership page, expect Address Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, expect Address Help Block is #{expectation}"
  help_text = webreg.profile.membership.address.help_text
  expect(help_text).to eql expectation
  end

Then(/^(?:O|o)n WebReg Membership page, expect City Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, expect City Help Block is #{expectation}"
  help_text = webreg.profile.membership.city.help_text
  expect(help_text).to eql expectation
end

Then(/^(?:O|o)n WebReg Membership page, expect State Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, expect State Help Block is #{expectation}"
  help_text = webreg.profile.membership.state.help_text
  expect(help_text).to eql expectation
end

Then(/^(?:O|o)n WebReg Membership page, expect Phone Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, expect Phone Help Block is #{expectation}"
  help_text = webreg.profile.membership.phone.help_text
  expect(help_text).to eql expectation
end

Then(/^(?:O|o)n WebReg Membership page, expect Cardhoder name Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, expect Cardholder name Help Block is #{expectation}"
  help_text = webreg.profile.membership.card_holder_name.help_text
  expect(help_text).to eql expectation
end

Then(/^(?:O|o)n WebReg Membership page, expect Card number Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, expect Card number Help Block is #{expectation}"
  help_text = webreg.profile.membership.card_number.help_text
  expect(help_text).to eql expectation
end

Then(/^(?:O|o)n WebReg Membership page, Expires Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, Expires Help Block is #{expectation}"
  help_text = webreg.profile.membership.expiration_month.help_text
  expect(help_text).to eql expectation
end

Then(/^(?:O|o)n WebReg Membership page, expect Billing Address Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, Billing Address Help Block is #{expectation}"
  help_text = webreg.profile.membership.billing_address.help_text
  expect(help_text).to eql expectation
end

Then(/^(?:O|o)n WebReg Membership page, expect Billing City Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, Billing City Help Block is #{expectation}"
  help_text = webreg.profile.membership.billing_city.help_text
  expect(help_text).to eql expectation
end

Then(/^(?:O|o)n WebReg Membership page, expect Billing State Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, Billing State Help Block is #{expectation}"
  help_text = webreg.profile.membership.billing_state.help_text
  expect(help_text).to eql expectation
end


Then(/^(?:O|o)n WebReg Membership page, expect Billing Zip Help Block is (.*)$/) do |expectation|
 #logger.step "On WebReg Membership page, Billing Zip Help Block is #{expectation}"
  help_text = webreg.profile.membership.billing_zip.help_text
  expect(help_text).to eql expectation
end

Then(/^(?:O|o)n WebReg Membership page, expect Terms & Conditions Help Block is (.*)$/) do |expectation|
  #logger.step "On WebReg Membership page, Terms & Conditions Help Block is #{expectation}"
  help_text = webreg.profile.membership.terms_and_conditions.help_text
  expect(help_text).to eql expectation
end

Then(/^(?:O|o)n WebReg Membership page, Tab$/) do
  #logger.step "On WebReg Membership page, Tab"
  webreg.profile.membership.tab
end





